---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import NavBar from "../components/NavBar.astro";
---


<Layout title="Espejismo">
    <main>
        <NavBar />
        <div class="head">
            <h1 id="maintitle">Espejismo</h1>
            <h3>Periódico digital del Alfonso XI</h3>
        </div>
        <div class="bo">
            <h2>[Secciones]</h2>
            <ul>
                <li><a href="secciones/musica">Música</a></li>
                <li><a href="secciones/cine">Cine</a></li>
                <li><a href="secciones/magia">Magia</a></li>
                <li><a href="secciones/ciencia">Ciencia</a></li>
                <li><a href="secciones/erasmus">Erasmus</a></li>
                <li><a href="secciones/literatura">Literatura</a></li>
            </ul>
        </div>
        <Footer />
    </main>
</Layout>
<script>
    const LETTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%".split("");
    const ORIGINAL = "Espejismo";
    const title = document.getElementById("maintitle");
    const body = document.getElementsByTagName("body")[0];
    let changing = false;
    if (title) {
        let text = ORIGINAL.split("");

        title.addEventListener("mouseover", () => {
            changing = true;
            body.style.backgroundColor = "black";
            title.classList.add("shaking");

            const interval = setInterval(() => {
                if (changing) {
                    for (let i = 0; i < 9; i++) {
                        (text[i] =
                            LETTERS[
                                Math.floor(Math.random() * LETTERS.length)
                            ]),
                            i * 100;
                        title.innerHTML = text.join("");
                    }
                } else {
                    clearInterval(interval);
                }
            }, 30);
        });

        title.addEventListener("mouseout", () => {
            changing = false;
            title.innerHTML = ORIGINAL;
            body.style.backgroundColor = "#222";
            title.classList.remove("shaking");
        });
    }
</script>

<style>
    body {
        margin: 0%;
        padding: 0%;
        color: #eee;
        overflow-x: hidden;
        background-color: #222;
        font-family: "Times New Roman", Times, serif;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 4rem;
        margin: 20px;
    }
    h2 {
        font-size: 2rem;
        margin: 10px;
    }
    h3 {
        font-size: 0.8rem;
        margin: 10px;
        color: #aaa;
        font-family: monospace;
    }

    @keyframes shake {
        0% {
            transform: translate(0, 0) rotate(0deg);
        }
        25% {
            transform: translate(5px, 5px) rotate(5deg);
        }
        50% {
            transform: translate(0, 0) rotate(0eg);
        }
        75% {
            transform: translate(-5px, 5px) rotate(-5deg);
        }
        100% {
            transform: translate(0, 0) rotate(0deg);
        }
    }

    .shaking {
        animation: shake 0.1s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;
        transform: translate3d(0, 0, 0);
        backface-visibility: hidden;
        perspective: 1000px;
        font-family: monospace;
        color: #0f0;
    }

    .bo {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .head {
        width: 100vw;
        margin-top: 20px;
        height: 30vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    ul {
        display: block;
        font-size: 1.5rem;
        align-items: center;
        text-align: center;
        list-style: none;
    }

    li {
        transition: 0.2s ease-in-out;
    }

    li:hover {
        text-decoration: underline;
        cursor: pointer;
    }

    a {
        font-family: monospace;
        font-size: 1rem;
        cursor: pointer;
        color: #eee;
        text-decoration: none;
    }
</style>
